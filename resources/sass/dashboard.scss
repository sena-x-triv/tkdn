/* Variabel tema */
$primary: #2563eb;
$background-light: #f4f6fa;
$background-dark: #23243a;
$sidebar-dark: #23243a;
$card-dark: #292b3a;
$text-light: #e0e0e0;
$text-dark: #222;
$sidebar-width: 220px;
$sidebar-radius: 0;
$transition: 0.3s cubic-bezier(.4,0,.2,1);
$shadow-dark: 0 4px 32px 0 rgba(44,62,80,.18);
$sidebar-bg: #fff;
$content-bg: #f7fafd;
$card-bg: #fff;
$text-muted: #7b809a;
$border: #e5e7eb;
$sidebar-active: #e8f0fe;
$shadow: 0 2px 16px 0 rgba(44,62,80,.06);
$shadow-card: 0 2px 8px 0 rgba(44,62,80,.04);

body {
  background: $background-light;
  color: $text-dark;
  transition: background $transition, color $transition;
}
body.dark {
  background: #23243a !important;
  color: #e0e0e0 !important;
}

/* Sidebar Modern */
#sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: $sidebar-width;
  height: 100vh;
  background: #fff;
  color: $text-dark;
  border-radius: $sidebar-radius;
  box-shadow: 0 4px 32px 0 rgba(44,62,80,.10);
  display: flex;
  flex-direction: column;
  z-index: 1040;
  transition: background $transition, color $transition, left $transition, border-radius $transition, box-shadow $transition;
  padding: 1.5rem 1rem 1rem 1rem;
}
.sidebar-logo {
  font-size: 1.5rem;
  font-weight: bold;
  color: $text-dark;
  margin-bottom: 2rem;
}
body.dark .sidebar-logo {
  color: $text-light;
}
.sidebar-menu {
  flex: 1 1 auto;
}
.sidebar-menu .nav-link {
  color: $text-dark;
  font-weight: 500;
  border-radius: 8px;
  margin-bottom: 6px;
  display: flex;
  align-items: center;
  transition: background $transition, color $transition;
  padding: 0.65rem 1rem;
}
.sidebar-menu .nav-link.active, .sidebar-menu .nav-link:focus, .sidebar-menu .nav-link:hover {
  background: $sidebar-active;
  color: $primary !important;
}
.sidebar-menu .nav-link i {
  font-size: 1.2rem;
  color: $text-dark;
  transition: color $transition;
}
.sidebar-menu .nav-link.active i, .sidebar-menu .nav-link:focus i, .sidebar-menu .nav-link:hover i {
  color: $primary;
}
body.dark .sidebar-menu .nav-link {
  color: $text-light !important;
  background: transparent;
}
body.dark .sidebar-menu .nav-link i {
  color: $text-light !important;
}
body.dark .sidebar-menu .nav-link.active, body.dark .sidebar-menu .nav-link:focus, body.dark .sidebar-menu .nav-link:hover {
  background: $primary !important;
  color: #fff !important;
}
body.dark .sidebar-menu .nav-link.active i, body.dark .sidebar-menu .nav-link:focus i, body.dark .sidebar-menu .nav-link:hover i {
  color: #fff !important;
}
.sidebar-darkmode {
  margin-top: 12px;
  color: $text-dark;
  font-weight: 500;
}
body.dark .sidebar-darkmode {
  color: $text-light;
}
.sidebar-user {
  color: $text-dark;
  font-weight: 500;
  margin-top: auto;
  margin-bottom: 8px;
}
body.dark .sidebar-user {
  color: $text-light;
}

/* Darkmode Sidebar */
body.dark #sidebar {
  background: $sidebar-dark !important;
  color: $text-light !important;
  box-shadow: $shadow-dark;
  border-radius: $sidebar-radius;
}
body.dark .sidebar-logo,
body.dark .sidebar-darkmode,
body.dark .sidebar-user {
  color: $text-light !important;
}
body.dark .sidebar-menu .nav-link {
  color: $text-light !important;
  background: transparent !important;
}
body.dark .sidebar-menu .nav-link i {
  color: $text-light !important;
}
body.dark .sidebar-menu .nav-link.active,
body.dark .sidebar-menu .nav-link:focus,
body.dark .sidebar-menu .nav-link:hover {
  background: $primary !important;
  color: #fff !important;
}
body.dark .sidebar-menu .nav-link.active i,
body.dark .sidebar-menu .nav-link:focus i,
body.dark .sidebar-menu .nav-link:hover i {
  color: #fff !important;
}

/* Main content & background */
body {
  background: $background-light;
}
body.dark-mode {
  background: $background-dark !important;
}
.main-content {
  min-height: 100vh;
  background: $background-light;
  transition: background $transition, color $transition;
}
body.dark-mode .main-content {
  background: $background-dark;
  color: $text-light;
}

.navbar {
  border-bottom: 1px solid #e3e6f0;
}
body.dark-mode .navbar {
  background: $background-dark !important;
  color: $text-light;
  border-bottom: 1px solid #35365c;
}
body.dark-mode .navbar .navbar-brand, body.dark-mode .navbar .nav-link, body.dark-mode .navbar .dropdown-toggle {
  color: $text-light !important;
}

/* Sidebar Responsive */
.sidebar-overlay {
  display: none;
}
@media (max-width: 991.98px) {
  #sidebar {
    left: -$sidebar-width;
    transition: left $transition;
  }
  #sidebar.sidebar-open {
    left: 0;
  }
  .sidebar-overlay {
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.3);
    z-index: 1039;
    opacity: 0;
    pointer-events: none;
    transition: opacity $transition;
  }
  .sidebar-overlay.show {
    opacity: 1;
    pointer-events: auto;
  }
  #app {
    flex-direction: column;
  }
  .main-content {
    margin-left: 0 !important;
  }
  .main-header {
    margin-left: 0;
    width: 100%;
  }
}

@media (min-width: 992px) {
  .main-header {
    left: unset;
    right: 0;
    position: sticky;
    top: 0;
  }
  #sidebar {
    left: 0;
    position: fixed;
    top: 0;
    height: 100vh;
    margin-top: 0;
    border-radius: $sidebar-radius;
  }
  .sidebar-overlay {
    display: none !important;
  }
  #app {
    margin-left: $sidebar-width;
  }
}

/* Header Menu */
.main-header {
  height: 56px;
  z-index: 1050;
  background: #fff;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #e3e6f0;
  transition: background $transition, color $transition;
  margin-left: 20px !important;
}
body.dark .main-header {
  background: $sidebar-dark !important;
  color: $text-light !important;
  border-bottom: 1px solid #35365c;
}
.main-header .logo {
  height: 36px;
}
.main-header .pertamina-logo {
  height: 32px;
}
@media (max-width: 991.98px) {
  .main-header {
    margin-left: 0;
    width: 100%;
  }
}

/* Dashboard Page */
.dashboard-page {
  min-height: 100vh;
  padding-top: 1.5rem;
}
.page-header {
  background: #fff;
  border-radius: 12px;
  padding: 1.5rem 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px 0 rgba(44,62,80,.04);
  transition: background $transition, color $transition;
}
body.dark .page-header {
  background: $card-dark !important;
  color: $text-light !important;
  box-shadow: $shadow-dark;
}
.dashboard-content {
  min-height: 300px;
}

// DARK MODE OVERRIDES
body.dark #sidebar {
  background: $sidebar-dark !important;
  color: $text-light !important;
  box-shadow: $shadow-dark;
  border-radius: $sidebar-radius;
}
body.dark .sidebar-logo,
body.dark .sidebar-darkmode,
body.dark .sidebar-user {
  color: $text-light !important;
}
body.dark .sidebar-menu .nav-link {
  color: $text-light !important;
  background: transparent !important;
}
body.dark .sidebar-menu .nav-link i {
  color: $text-light !important;
}
body.dark .sidebar-menu .nav-link.active,
body.dark .sidebar-menu .nav-link:focus,
body.dark .sidebar-menu .nav-link:hover {
  background: $primary !important;
  color: #fff !important;
}
body.dark .sidebar-menu .nav-link.active i,
body.dark .sidebar-menu .nav-link:focus i,
body.dark .sidebar-menu .nav-link:hover i {
  color: #fff !important;
}
body.dark .main-header {
  background: $sidebar-dark !important;
  color: $text-light !important;
  border-bottom: 1px solid #35365c;
}
body.dark .main-header .fs-4,
body.dark .main-header .pertamina-logo {
  color: $text-light !important;
}
body.dark .main-content {
  background: $background-dark !important;
  color: $text-light !important;
}
body.dark .page-header {
  background: $card-dark !important;
  color: $text-light !important;
  box-shadow: $shadow-dark;
}
body.dark .dashboard-content {
  background: transparent !important;
  color: $text-light !important;
}

body.tkdn-bg {
  background: $content-bg;
  color: $text-dark;
  font-family: 'Nunito', Arial, sans-serif;
}

.tkdn-sidebar {
  background: $sidebar-bg;
  border-right: 1px solid $border;
  border-radius: $sidebar-radius;
  box-shadow: $shadow;
  width: $sidebar-width;
  min-width: $sidebar-width;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1040;
  transition: left $transition, box-shadow $transition;
  padding-top: 2rem;
  padding-bottom: 2rem;
  display: flex;
  flex-direction: column;
}
.sidebar-logo {
  font-size: 1.5rem;
  font-weight: bold;
  color: $text-dark;
  margin-bottom: 2rem;
}
.sidebar-menu .nav-link {
  color: $text-dark;
  font-weight: 500;
  border-radius: 8px;
  margin-bottom: 6px;
  display: flex;
  align-items: center;
  transition: background $transition, color $transition;
  padding: 0.65rem 1rem;
}
.sidebar-menu .nav-link.active, .sidebar-menu .nav-link:focus, .sidebar-menu .nav-link:hover {
  background: $sidebar-active;
  color: $primary !important;
}
.sidebar-menu .nav-link i {
  font-size: 1.2rem;
  color: $text-dark;
  transition: color $transition;
}
.sidebar-menu .nav-link.active i, .sidebar-menu .nav-link:focus i, .sidebar-menu .nav-link:hover i {
  color: $primary;
}

.tkdn-header {
  min-height: 64px;
  display: flex;
  align-items: center;
  padding-left: 2rem;
  padding-right: 2rem;
  background: $sidebar-bg;
  border-bottom: 1px solid $border;
  box-shadow: $shadow;
  position: sticky;
  top: 0;
  z-index: 1050;
  transition: margin-left $transition, width $transition, padding $transition;
}

.tkdn-content {
  background: $content-bg;
  min-height: 100vh;
  padding: 0;
  transition: margin-left $transition;
}

@media (max-width: 991.98px) {
  .tkdn-sidebar {
    left: -$sidebar-width;
    transition: left $transition;
  }
  .tkdn-sidebar.sidebar-open {
    left: 0;
  }
  .sidebar-overlay {
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.2);
    z-index: 1039;
    opacity: 0;
    pointer-events: none;
    transition: opacity $transition;
  }
  .sidebar-overlay.show {
    opacity: 1;
    pointer-events: auto;
  }
  .tkdn-content {
    margin-left: 0;
    padding: 0;
  }
  .tkdn-header {
    margin-left: 0;
    width: 100%;
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

.tkdn-dashboard {
  padding-top: 2rem;
}
.tkdn-card {
  background: $card-bg;
  border-radius: 16px;
  box-shadow: $shadow-card;
  border: 1px solid $border;
}
.tkdn-balance-icon {
  width: 56px;
  height: 56px;
  font-size: 2rem;
}

// Tab nav
.nav-tabs {
  border-bottom: 1px solid $border;
}
.nav-tabs .nav-link {
  border: none;
  color: $text-muted;
  font-weight: 500;
  border-radius: 8px 8px 0 0;
  margin-right: 8px;
  background: transparent;
  transition: background $transition, color $transition;
}
.nav-tabs .nav-link.active, .nav-tabs .nav-link:focus, .nav-tabs .nav-link:hover {
  background: $sidebar-active;
  color: $primary;
}

// Table
.table {
  background: transparent;
  border-radius: 12px;
  font-size: 1rem;
}
.table th, .table td {
  border-top: none;
  border-bottom: 1px solid $border;
  vertical-align: middle;
}
.table thead th {
  color: $text-muted;
  font-weight: 700;
  background: transparent;
}
.table tr:last-child td {
  border-bottom: none;
}

// Button
.btn-primary {
  background: $primary;
  border-color: $primary;
  border-radius: 8px;
  font-weight: 600;
}
.btn-outline-secondary {
  border-radius: 8px;
  font-weight: 600;
}

// User avatar
.tkdn-header img.rounded-circle {
  border: 2px solid $border;
}

.user-dropdown-toggle {
  border-radius: 6px;
  text-decoration: none;
  padding: 5px;
  background: #fff;
  transition: box-shadow 0.2s;
  box-shadow: 0 2px 8px 0 rgba(44,62,80,.08);
  cursor: pointer;
  &:hover, &:focus {
    box-shadow: 0 4px 16px 0 rgba(44,62,80,.12);
  }
}
.user-dropdown-menu {
  min-width: 200px;
  border-radius: 5px;
  box-shadow: 0 4px 24px 0 rgba(44,62,80,.10);
  border: 1px solid #e5e7eb;
  .dropdown-item {
    border-radius: 8px;
    transition: background 0.15s;
    &:hover, &:focus {
      background: #f7fafd;
      color: #2563eb;
    }
    &.text-danger {
      color: #e53935 !important;
    }
    &.text-danger:hover, &.text-danger:focus {
      background: #fff0f0;
      color: #e53935 !important;
    }
  }
}

.tkdn-header .dropdown-menu.user-dropdown-menu {
  margin-top: 17px !important;
  right: 0 !important;
  left: auto !important;
}

.tkdn-darkmode-toggle i.bi-moon {
  color: #40C4FF;
  text-shadow: 0 0 8px #40C4FF66;
  transition: color 0.2s, text-shadow 0.2s;
}
.tkdn-darkmode-toggle i.bi-sun {
  color: #FFD600;
  text-shadow: 0 0 8px #FFD60066;
  transition: color 0.2s, text-shadow 0.2s;
}

body.dark .tkdn-header {
  background: #23243a !important;
  border-bottom: 1px solid #35365c;
  box-shadow: 0 2px 16px 0 rgba(44,62,80,.24);
  color: #e0e0e0 !important;
}
body.dark .tkdn-header .btn,
body.dark .tkdn-header .btn-outline-secondary {
  background: #23243a;
  color: #e0e0e0;
}
body.dark .tkdn-header .btn-primary {
  background: #2563eb;
  border-color: #2563eb;
  color: #fff;
}
body.dark .tkdn-header .user-dropdown-toggle {
  background: #23243a;
  color: #e0e0e0;
  border-color: #35365c;
}
body.dark .tkdn-header .user-dropdown-toggle i {
  color: #FFD600;
  text-shadow: 0 0 8px #FFD60066;
}

body.dark .tkdn-sidebar {
  background: #23243a !important;
  color: #e0e0e0 !important;
  border-right: 1px solid #35365c;
}
body.dark .tkdn-content {
  background: #23243a !important;
  color: #e0e0e0 !important;
}
body.dark .tkdn-card,
body.dark .card {
  background: #292b3a !important;
  color: #e0e0e0 !important;
  border-color: #35365c !important;
  box-shadow: 0 2px 16px 0 rgba(44,62,80,.24);
}
body.dark .table {
  background: transparent !important;
  color: #e0e0e0 !important;
}
body.dark .table th,
body.dark .table td {
  border-color: #35365c !important;
}
body.dark .nav-tabs,
body.dark .nav-tabs .nav-link {
  background: transparent !important;
  color: #bfc9d4 !important;
  border-color: #35365c !important;
}
body.dark .nav-tabs .nav-link.active {
  background: #23243a !important;
  color: #FFD600 !important;
}
body.dark .dropdown-menu {
  background: #292b3a !important;
  color: #e0e0e0 !important;
  border-color: #35365c !important;
  box-shadow: 0 4px 24px 0 rgba(44,62,80,.24);
}
body.dark .dropdown-item {
  color: #e0e0e0 !important;
}
body.dark .dropdown-item:hover,
body.dark .dropdown-item:focus {
  background: #23243a !important;
  color: #FFD600 !important;
}
body.dark .form-control,
body.dark input,
body.dark textarea,
body.dark select {
  background: #23243a !important;
  color: #e0e0e0 !important;
  border-color: #35365c !important;
}
body.dark .form-label {
  color: #bfc9d4 !important;
}
body.dark .btn-outline-secondary {
  background: #23243a !important;
  color: #e0e0e0 !important;
  border-color: #35365c !important;
}
body.dark .btn-primary {
  background: #FFD600 !important;
  color: #23243a !important;
  border-color: #FFD600 !important;
}
body.dark .alert {
  background: #35365c !important;
  color: #FFD600 !important;
  border-color: #FFD600 !important;
}
body.dark .badge {
  background: #35365c !important;
  color: #FFD600 !important;
}

body.dark .user-info-card {
  background: #292b3a !important;
  color: #e0e0e0 !important;
  box-shadow: 0 2px 16px 0 rgba(44,62,80,.24);
}
body.dark .user-info-card .fw-bold {
  color: #FFD600 !important;
}
body.dark .user-info-card .text-muted,
body.dark .user-info-card .small {
  color: #bfc9d4 !important;
}
body.dark .user-dropdown-menu .text-muted,
body.dark .user-dropdown-menu .small {
  color: #bfc9d4 !important;
}

body.dark .text-muted {
  color: #bfc9d4 !important;
} 